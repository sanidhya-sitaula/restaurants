(this.webpackJsonprestaurants=this.webpackJsonprestaurants||[]).push([[0],{34:function(e,t,a){},38:function(e,t,a){e.exports=a(53)},43:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),c=(a(43),a(34),a(12)),l=a(13),o=a(15),u=a(14),m=a(19),d=a.n(m),p=a(21),h=a(77),f=a(83),g=a(82),v=a(80),E=a(84),y=Object(h.a)({root:{width:300,maxWidth:300,height:"auto",marginBottom:7,marginTop:20,marginLeft:32,marginRight:32,fontFamily:"Quicksand"},media:{height:100},link:{color:"black",textDecoration:"None",fontFamily:"Quicksand"},font:{}});function b(e){var t=y();return r.a.createElement(f.a,{className:t.root},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("a",{className:t.link,href:"#"},e.title)),r.a.createElement(E.a,{variant:"caption",display:"block",gutterBottom:!0},r.a.createElement("span",{className:t.font},e.cuisines," Cuisine")),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("span",{className:t.font},e.address)))))}var O=a(81),j=a(20);var k=function(e){return console.log(e),e.data.result.data.slice(0,20).map((function(e){return r.a.createElement("div",null,r.a.createElement(O.a,{item:!0,xs:12,sm:12,md:12,style:{marginBottom:10,marginTop:10}},r.a.createElement(j.b,{to:"/details/"+e.restaurant_id}," ",0!=e.cuisines.length?r.a.createElement(b,{variant:"outlined",title:e.restaurant_name,cuisines:e.cuisines[0],address:e.address.formatted,price:e.price_range}):r.a.createElement(b,{variant:"outlined",title:e.restaurant_name,cuisines:"",address:e.address.formatted,price:e.price_range}))))}))},S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://us-restaurant-menus.p.rapidapi.com/restaurants/search/geo?page=1&lon=".concat(this.props.long,"8&lat=").concat(this.props.lat,"&distance=1"),e.next=3,fetch(t,{method:"GET",headers:{"X-RapidAPI-Host":"us-restaurant-menus.p.rapidapi.com","X-RapidAPI-Key":"150f594e71mshd2646f768ee0f90p1b0d7ejsne13ac63cc8ab",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return a.setState({data:e})}));case 3:this.props.parentCallback(this.state.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderResults",value:function(){return this.state.data?r.a.createElement(k,{data:this.state.data}):r.a.createElement("div",null,"Loading...")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.a,{item:!0,style:{display:"flex"},container:!0,spacing:8},this.renderResults()))}}]),a}(r.a.Component);function w(e){return r.a.createElement("div",null,r.a.createElement("h1",{class:"title"},e.title))}var _=a(26),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,lat:e.props.lat,lon:e.props.lon},e.mapStyles={height:"80vh",width:"100%"},e.defaultCenter={lat:e.state.lat,lng:e.state.lon},e.handleToggleOpen=function(){e.setState({isOpen:!0})},e.handleToggleClose=function(){e.setState({isOpen:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(_.c,{googleMapsApiKey:"AIzaSyAOfytgTSy-bypCikaz1t56NL7o5AqR4GM"},r.a.createElement(_.a,{mapContainerStyle:this.mapStyles,zoom:13,center:this.props.lat?this.defaultCenter:""},this.props.data.result.data.map((function(t){return r.a.createElement(_.d,{key:t.name,position:{lat:t.geo.lat,lng:t.geo.lon},onClick:function(){return e.handleToggleOpen()}},e.state.isOpen&&r.a.createElement(_.b,null,r.a.createElement("h4",null,t.restaurant_name)))}))))}}]),a}(r.a.Component),C=a(3),T=(a(50),a(52),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:"",loading:!0,menus:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://us-restaurant-menus.p.rapidapi.com/restaurant/".concat(this.props.location.pathname.slice(9),"/menuitems?page=1"),e.next=3,fetch(t,{method:"GET",headers:{"x-rapidapi-host":"us-restaurant-menus.p.rapidapi.com","x-rapidapi-key":"4fc1b63d54msh5b49fb5ab2014a2p1a5ef2jsn6846ee94d7ca"}}).then((function(e){return e.json()})).then((function(e){return a.setState({data:e})}));case 3:this.setState({loading:!1}),console.log(this.state.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderDetails",value:function(){return this.state.data.result.data.map((function(e){return r.a.createElement("div",null,r.a.createElement(O.a,{item:!0,xs:12,sm:12,md:12,style:{marginBottom:10,marginTop:10}},r.a.createElement("div",{class:"item"},r.a.createElement("div",{class:"ui card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header menu_header"},e.menu_item_name),r.a.createElement("div",{class:"meta"},r.a.createElement("span",{class:"right floated time"},e.menu_item_pricing?"":e.menu_item_pricing[0].priceString),r.a.createElement("span",{class:"left floated category"},e.subsection))),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"description"},e.menu_item_description?e.menu_item_description:"No description available"))))))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"headerTitle"},this.state.loading?r.a.createElement(w,{title:""}):r.a.createElement(w,{title:this.state.data.result.data[0].restaurant_name}),this.state.loading?"":r.a.createElement("h3",null,this.state.data.result.data[0].address.formatted),this.state.loading?"":r.a.createElement("h4",{class:"price_range"},this.state.data.result.data[0].price_range),this.state.loading?"":r.a.createElement("h4",{class:""},this.state.data.result.data[0].restaurant_phone),this.state.loading?"":r.a.createElement("h4",{class:""},this.state.data.result.data[0].restaurant_hours)),r.a.createElement("div",{class:"container"},r.a.createElement("h1",null,"Menu"),r.a.createElement(O.a,{item:!0,style:{display:"flex"},container:!0,spacing:3},this.state.loading?"":this.renderDetails(),";")))}}]),a}(r.a.Component)),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={term:""},e.onInputChange=function(t){e.setState({term:t.target.value})},e.onFormSubmit=function(t){t.preventDefault(),e.props.onFormSubmit(e.state.term)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar ui segment"},r.a.createElement("form",{className:"ui form",onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Restaurant Search"),r.a.createElement("input",{type:"text",value:this.state.term,onChange:this.onInputChange}))))}}]),a}(r.a.Component),R=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:"",loading:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.val,a=encodeURI('{"restaurant_name"  : "'.concat(t,'"}')),n="https://us-restaurant-menus.p.rapidapi.com/restaurants/search/fields?fields=".concat(a),e.next=5,fetch(n,{method:"GET",headers:{"X-RapidAPI-Host":"us-restaurant-menus.p.rapidapi.com","X-RapidAPI-Key":"4fc1b63d54msh5b49fb5ab2014a2p1a5ef2jsn6846ee94d7ca",useQueryString:!0},query:{}}).then((function(e){return e.json()})).then((function(e){return r.setState({data:e})}));case 5:console.log(this.state.data),this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement(O.a,{item:!0,style:{display:"flex"},container:!0,spacing:8},r.a.createElement(k,{data:this.state.data})))}}]),a}(r.a.Component),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={lat:"",long:"",loading:!1,data:"",searchTerm:""},e.setData=function(t){e.setState({data:t}),console.log(e.state.data)},e.onTermSubmit=function(t){e.setState({searchTerm:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:t.coords.latitude,long:t.coords.longitude,loading:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,null,r.a.createElement(C.a,{path:"/details",exact:!0,component:T})),r.a.createElement("div",{class:"container"},r.a.createElement(w,{title:"Restaurants Near You"}),r.a.createElement(A,{onFormSubmit:this.onTermSubmit}),this.state.searchTerm?r.a.createElement("div",{class:"searchResults"}," ",r.a.createElement(R,{val:this.state.searchTerm},"Search Results ")," "):r.a.createElement("div",null,r.a.createElement("div",{class:"rest-content"},this.state.loading?r.a.createElement(S,{parentCallback:this.setData,lat:this.state.lat,long:this.state.long,search:!1}):r.a.createElement("div",null,"Loading...")),r.a.createElement("div",{class:"map"},r.a.createElement("h1",{class:"title"},"Map View"),this.state.data?r.a.createElement(x,{displayPage:!1,lat:this.state.lat,lon:this.state.long,data:this.state.data}):r.a.createElement("div",null,"Loading maps...")))))}}]),a}(r.a.Component);var D=function(){return r.a.createElement(j.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/",exact:!0,component:N}),r.a.createElement(C.a,{path:"/details",component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.ecdf0fea.chunk.js.map